import{p as m}from"./pb-3e7cd295.js";import{d as b,r as d,g,o as x,c,e as u,t as y,k as f,l as t,m as o,j as A,q,f as p}from"./index-2987a531.js";const L={key:0,class:"message is-primary"},I={class:"message-body"},S={class:"is-one-third column"},w=b({__name:"Change",setup(T){const v=A(),s=d({id:"undefined"}),i=d(""),l=g({basic:{name:"",avatar:"",text:""},lol_ids:[],steam_ids:[]});x(async()=>{const e=await m.collection("team").getFirstListItem(`discord_id="${v.state.login_data.meta.id}"`,{});s.value=e,l.basic.name=e.name,l.basic.avatar=e.avatar,l.lol_ids=e.lol_ids,l.steam_ids=e.steam_ids,l.basic.text=e.text});const h=e=>{e.props.type==="range"&&e.hook.input((n,a)=>a(Number(n)))},_=async e=>{const n={name:e.basic.name,avatar:e.basic.avatar,steam_ids:e.steam_ids,lol_ids:e.lol_ids,text:e.basic.text};await m.collection("team").update(s.value.id,n),i.value="Saved!",setTimeout(()=>{i.value=""},2e3)};return(e,n)=>{const a=q("FormKit");return p(),c("div",null,[i.value!=""?(p(),c("div",L,[u("div",I,y(i.value),1)])):f("",!0),t(a,{type:"form",onSubmit:_,plugins:[h],"form-class":"columns is-multiline",modelValue:l,"onUpdate:modelValue":n[0]||(n[0]=r=>l=r)},{default:o(({value:r})=>[t(a,{type:"group",name:"basic",id:"basics"},{default:o(()=>[u("div",S,[t(a,{type:"text",name:"name",label:"Name",help:"Anzeigename",placeholder:"“eXiT | Incredible”",maxlength:"255",validation:"required"}),t(a,{type:"url",name:"avatar",label:"Avatar",help:"Avatarurl",placeholder:"https://...",maxlength:"255",validation:"required"}),t(a,{type:"textarea",name:"text",label:"Text",help:"Freitext",placeholder:"Hallo, ich bin ....",maxlength:"2000",rows:"10",validation:"required"})])]),_:1}),t(a,{id:"lol_repeater",name:"lol_ids",type:"repeater",label:"League of Legends IDs",classes:{outer:"is-one-third column"}},{default:o(()=>[t(a,{type:"url",name:"url",label:"Profile URL",help:"URL von dem LoL-Account",placeholder:"https://u.gg/lol/profile/euw1/mrsupercheg/overview",maxlength:"255",validation:"required|url"}),t(a,{type:"text",name:"name",label:"Account name",help:"Anzeigename für den Account",placeholder:"eXiT l Incredble",maxlength:"255",validation:"required"}),t(a,{type:"text",name:"img",label:"Account name",help:"Anzeigename für den Account",placeholder:"eXiT l Incredble",maxlength:"255",validation:"required"})]),_:1}),t(a,{id:"steam_repeater",name:"steam_ids",type:"repeater",label:"Steam Accounts",classes:{outer:"is-one-third column"}},{default:o(()=>[t(a,{type:"url",name:"avatar",label:"Avatar URL",help:"URL von dem Steam-Avatar",placeholder:"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/84/84199881caecec9848af94166c4ef97192c8ae52_full.jpg",maxlength:"255",validation:"required|url"}),t(a,{type:"text",name:"name",label:"Anzeigename",help:"Account Anzeigename",placeholder:"eXiT l Incredble",validation:"required"}),t(a,{type:"number",name:"id",label:"Account ID",help:"Steam ID",placeholder:"76561198091982448",validation:"required"})]),_:1})]),_:1},8,["plugins","modelValue"])])}}});export{w as default};
